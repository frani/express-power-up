{
  "Create Controller with GET": {
    "prefix": "ep-example-controller",
    "body": [
      "const httpStatus = require('http-status')",
      "const ${1:item}sDB = require('../dbs/${1:item}s.db')",
      "",
      "",
      "/**",
      "* List ${1:item}",
      "* @public",
      "*/",
      "const list = async (req, res, next) => {",
      "try {",
      "const { page, limit } = req.query",
      "let query = {}",
      "if (${1:item}id) query['uuid'] = { uuid: ${1:item}id }",
      "const listed = await ${1:item}sDB.list({ query , page, limit})",
      "if (!!listed) {",
      "return res.status(httpStatus.OK).json({",
      "success: true,",
      "message: `${1:item}s listed`,",
      "body: listed",
      "})",
      "}",
      "return res.status(httpStatus.NOT_FOUND).json({",
      "success: false,",
      "message: `${1:item}s not found`",
      "})",
      "} catch (error) {",
      "next(error)",
      "}",
      "}",
      "",
      "",
      "/**",
      "* Post ${1:item}",
      "* @public",
      "*/",
      "const post = async (req, res, next) => {",
      "try {",
      "const data = req.body",
      "const created = await ${1:item}sDB.create({ data })",
      "if (!!created) {",
      "return res.status(httpStatus.OK).json({",
      "success: true,",
      "message: `${1:item} created`,",
      "body: created",
      "})",
      "}",
      "return res.status(httpStatus.NOT_FOUND).json({",
      "success: false,",
      "message: `${1:item} not created`",
      "})",
      "} catch (error) {",
      "next(error)",
      "}",
      "}",
      "",
      "",
      "/**",
      "* Put ${1:item}",
      "* @public",
      "*/",
      "const put = async (req, res, next) => {",
      "try {",
      "const { page, limit } = req.query",
      "let query = {}",
      "if (${1:item}id) query['uuid'] = { uuid: ${1:item}id }",
      "const data = req.body",
      "const updated = await ${1:item}sDB.update({query, data})",
      "if (!!updated) {",
      "return res.status(httpStatus.OK).json({",
      "success: true,",
      "message: `${1:item}s updated`,",
      "body: updated",
      "})",
      "}",
      "return res.status(httpStatus.NOT_FOUND).json({",
      "success: false,",
      "message: `${1:item} not updated`",
      "})",
      "} catch (error) {",
      "next(error)",
      "}",
      "}",
      "",
      "",
      "/**",
      "* Delete ${1:item}",
      "* @public",
      "*/",
      "const remove = async (req, res, next) => {",
      "try {",
      "const { ${1:item}id } = req.body",
      "const removed = await ${1:item}sDB.remove({ id: ${1:item}id })",
      "if (!!removed) {",
      "return res.status(httpStatus.OK).json({",
      "success: true,",
      "message: `${1:item}s removed`,",
      "body: removed",
      "})",
      "}",
      "return res.status(httpStatus.NOT_FOUND).json({",
      "success: false,",
      "message: `${1:item} not removed`",
      "})",
      "} catch (error) {",
      "next(error)",
      "}",
      "}",
      "",
      "",
      "/**",
      "* Get ${1:item}",
      "* @public",
      "*/",
      "const get = async (req, res, next) => {",
      "try {",
      "const { ${1:item}id } = req.params",
      "let query = {}",
      "if (${1:item}id) query['uuid'] = { uuid: ${1:item}id }",
      "const found = await ${1:item}sDB.find({query})",
      "if (!!found) {",
      "return res.status(httpStatus.OK).json({",
      "success: true,",
      "message: `${1:item} found`,",
      "body: found",
      "})",
      "}",
      "return res.status(httpStatus.NOT_FOUND).json({",
      "success: false,",
      "message: `${1:item} not found`",
      "})",
      "} catch (error) {",
      "next(error)",
      "}",
      "}",
      "",
      "module.exports = {",
      "  list,",
      "  get,",
      "  put,",
      "  post,",
      "  remove",
      "}\n$0"
    ],
    "description": "Create an '*.controller.js' file full content, importing http-status and setting function to handle list, get, put, post, and delete request"
  }
}
